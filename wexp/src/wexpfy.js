"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var wexpfy=function(){function u(r){var e=this;_classCallCheck(this,u);var a=r.watch||{},n=r.computed||{},t=Object.keys(n),c=Object.keys(r.data);if(t.length||c.length){c.forEach(function(n){"__webviewId__"!==n&&e.observer(r.data,n,r.data[n],function(e,t){"function"==typeof a[n]&&a[n].call(r,e,t)})});var o=t.reduce(function(e,t){return r.data.$target=function(){r.setData(_defineProperty({},t,n[t].call(r)))},e[t]=n[t].call(r),r.data.$target=null,e},{});r.setData(o)}}return _createClass(u,[{key:"observer",value:function(e,t,n,r){var a=e["$"+t]||[];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e.$target&&(a.push(e.$target),e["$"+t]=a),n},set:function(e){r&&r(e,n),a.length&&setTimeout(function(){a.forEach(function(e){return e()})},0),e!==n&&(n=e)}})}}]),u}();exports.default=wexpfy;