"use strict";var fs=require("fs"),path=require("path"),util=require("../utils/util"),projectPath=process.cwd();exports=module.exports=function(e,t){var i=util.getRelativePath(e),l=i.replace(".xu",".js");if(0<e.indexOf(".xu")){var r=util.babelJs(t,e);if(r&&r.code){var o=util.getConfig(r.code),u=i.replace(".xu",".json"),s=util.getTypeUrl(e);util.getModuleName(r.code,s.type).then(function(e){if("production"===process.env.NODE_ENV){var t=util.upjs(e).code,i=util.trim(o);util.writeFile(path.resolve(projectPath,l),t),util.log(" [写入js文件]".green+" dist"+l),util.writeFile(path.resolve(projectPath,u),i),util.log(" [写入json文件]".green+" dist"+u)}else util.writeFile(path.resolve(projectPath,l),e),util.log(" [写入js文件]".green+" dist"+l),util.writeFile(path.resolve(projectPath,u),o),util.log(" [写入json文件]".green+" dist"+u)})}}else{var a=util.getJsContent(e);util.writeFile(path.resolve(projectPath,i),a),util.log(" [写入js文件]".green+" dist"+l)}};